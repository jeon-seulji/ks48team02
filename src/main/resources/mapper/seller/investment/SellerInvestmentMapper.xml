<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ksmart.ks48team02.seller.mapper.investment.SellerInvestmentMapper">

    <resultMap type="AdminInvestment" id="adminInvestmentListMap">
        <id property="investmentCode" column="investment_code"/>
        <result property="memberId" column="member_id"/>
        <result property="storeCode" column="store_code"/>
        <result property="investmentRequestJudgeCode" column="investment_request_judge_code"/>
        <result property="totalCategoryCode" column="total_category_code"/>
        <result property="memberIdSeller" column="member_id_seller"/>
        <result property="investmentSubject" column="investment_subject"/>
        <result property="investmentContent" column="investment_content"/>
        <result property="investmentImage" column="investment_image"/>
        <result property="investmentLike" column="investment_like"/>
        <result property="investmentAmount" column="investment_amount"/>
        <result property="invInvestmentAchievementMoney" column="invInvestmentAchievementMoney"/>
        <result property="investAchievementPercent" column="invest_achievement_percent"/>
        <result property="investmentCompany" column="investment_company"/>
        <result property="searchCount" column="search_count"/>
        <result property="investCount" column="invest_count"/>
        <result property="securitiesClassification" column="securities_classification"/>
        <result property="investmentDisplayDate" column="investment_display_date"/>
        <result property="investmentRegDate" column="investment_reg_date"/>
        <result property="investmentDeadline" column="investment_deadline"/>
        <result property="investmentReport" column="investment_report"/>
        <result property="basicFee" column="basic_fee"/>
        <result property="contractFeeRate" column="contract_fee_rate"/>
        <result property="contractFile" column="contract_file"/>
        <result property="investJudgeSituation" column="invest_judge_situation"/>

        <association property="adminInvestmentRequestJudge" javaType="AdminInvestmentRequestJudge">
            <id property="investmentRequestJudgeCode" column="investment_request_judge_code"/>
            <result property="lawSatistifyCode" column="law_satistify_code"/>
            <result property="incongruitySectorsCode" column="incongruity_sectors_code"/>
            <result property="companyBusinessTypeCode" column="company_business_type_code"/>
            <result property="corporateValueEvaluationCode" column="corporate_value_evaluation_code"/>
            <result property="storeCode" column="store_code"/>
            <result property="investmentRequestSubject" column="investment_request_subject"/>
            <result property="memberIdSeller" column="member_id_seller"/>
            <result property="storeName" column="store_name"/>
            <result property="investmentCompany" column="investment_company"/>
            <result property="representativeName" column="representative_name"/>
            <result property="invBusinessType" column="business_type"/>
            <result property="investmentRequestContent" column="investment_request_content"/>
            <result property="investmentAchievementMoney" column="investment_achievement_money"/>
            <result property="lawSatistifyReason" column="law_satistify_reason"/>
            <result property="businessProfits" column="business_profits"/>
            <result property="depreciation" column="depreciation"/>
            <result property="netDebt" column="net_debt"/>
            <result property="stockNumber" column="stock_number"/>
            <result property="issueStockNumber" column="issue_stock_number"/>
            <result property="investmentRequestDate" column="investment_request_date"/>
            <result property="investJudgeDate" column="invest_judge_date"/>
            <result property="memberId" column="member_id"/>
            <result property="investJudgeResult" column="invest_judge_result"/>
            <result property="todayRequestCnt" column="todayRequestCnt"/>
            <result property="standbyCnt" column="standbyCnt"/>
            <result property="todayProceedCnt" column="todayProceedCnt"/>
            <result property="rejectCnt" column="rejectCnt"/>
            <result property="cbtBusinessType" column="cbtBusinessType"/>
        </association>

        <association property="sellerInvestmentContent" javaType="SellerInvestmentContent">
            <id property="investmentContentCode" column="investment_content_code"/>
            <result property="memberId" column="member_id"/>
            <result property="investmentCode" column="investment_code"/>
            <result property="memberIdAdmin" column="member_id_admin"/>
            <result property="projectIntroduction" column="project_introduction"/>
            <result property="investmentIntroductionImage" column="investment_introduction_image"/>
            <result property="marketAnalysis" column="market_analysis"/>
            <result property="marketAnalysisImage" column="market_analysis_image"/>
            <result property="majorFinancialInformation" column="major_financial_information"/>
            <result property="majorFinancialInformationImage" column="major_financial_information_image"/>
            <result property="risk" column="risk"/>
            <result property="riskImage" column="risk_image"/>
            <result property="majorManpower" column="major_manpower"/>
            <result property="majorManpowerImage" column="major_manpower_image"/>
            <result property="patentAwardDetails" column="patent_award_details"/>
            <result property="patentAwardDetailsImage" column="patent_award_details_image"/>
            <result property="etcInvestContent" column="etc_invest_content"/>
            <result property="etcInvestContentImage" column="etc_invest_content_image"/>
            <result property="registrationDate" column="registration_date"/>
        </association>
    </resultMap>

    <resultMap type="AdminInvestmentRequestJudge" id="adminInvestmentRequestJudgeListMap">
        <id property="investmentRequestJudgeCode" column="investment_request_judge_code"/>
        <result property="lawSatistifyCode" column="law_satistify_code"/>
        <result property="incongruitySectorsCode" column="incongruity_sectors_code"/>
        <result property="companyBusinessTypeCode" column="company_business_type_code"/>
        <result property="corporateValueEvaluationCode" column="corporate_value_evaluation_code"/>
        <result property="storeCode" column="store_code"/>
        <result property="investmentRequestSubject" column="investment_request_subject"/>
        <result property="memberIdSeller" column="member_id_seller"/>
        <result property="storeName" column="store_name"/>
        <result property="investmentCompany" column="investment_company"/>
        <result property="representativeName" column="representative_name"/>
        <result property="invBusinessType" column="business_type"/>
        <result property="investmentRequestContent" column="investment_request_content"/>
        <result property="investmentAchievementMoney" column="investment_achievement_money"/>
        <result property="lawSatistifyReason" column="law_satistify_reason"/>
        <result property="businessProfits" column="business_profits"/>
        <result property="depreciation" column="depreciation"/>
        <result property="netDebt" column="net_debt"/>
        <result property="stockNumber" column="stock_number"/>
        <result property="issueStockNumber" column="issue_stock_number"/>
        <result property="investmentRequestDate" column="investment_request_date"/>
        <result property="investJudgeDate" column="invest_judge_date"/>
        <result property="memberId" column="member_id"/>
        <result property="investJudgeResult" column="invest_judge_result"/>
        <result property="todayRequestCnt" column="todayRequestCnt"/>
        <result property="standbyCnt" column="standbyCnt"/>
        <result property="todayProceedCnt" column="todayProceedCnt"/>
        <result property="rejectCnt" column="rejectCnt"/>
        <result property="cbtBusinessType" column="cbtBusinessType"/>

        <association property="adminInvestment" javaType="AdminInvestment">
            <id property="investmentCode" column="investment_code"/>
            <result property="memberId" column="member_id"/>
            <result property="storeCode" column="store_code"/>
            <result property="investmentRequestJudgeCode" column="investment_request_judge_code"/>
            <result property="totalCategoryCode" column="total_category_code"/>
            <result property="memberIdSeller" column="member_id_seller"/>
            <result property="investmentSubject" column="investment_subject"/>
            <result property="investmentContent" column="investment_content"/>
            <result property="investmentImage" column="investment_image"/>
            <result property="investmentLike" column="investment_like"/>
            <result property="investmentAmount" column="investment_amount"/>
            <result property="invInvestmentAchievementMoney" column="invInvestmentAchievementMoney"/>
            <result property="investAchievementPercent" column="invest_achievement_percent"/>
            <result property="investmentCompany" column="investment_company"/>
            <result property="searchCount" column="search_count"/>
            <result property="investCount" column="invest_count"/>
            <result property="securitiesClassification" column="securities_classification"/>
            <result property="investmentDisplayDate" column="investment_display_date"/>
            <result property="investmentRegDate" column="investment_reg_date"/>
            <result property="investmentDeadline" column="investment_deadline"/>
            <result property="investmentReport" column="investment_report"/>
            <result property="basicFee" column="basic_fee"/>
            <result property="contractFeeRate" column="contract_fee_rate"/>
            <result property="contractFile" column="contract_file"/>
            <result property="investJudgeSituation" column="invest_judge_situation"/>
        </association>
    </resultMap>

    <resultMap type="AdminLawSatistifyReason" id="adminLawSatistifyReasonListMap">
        <id property="lawSatistifyCode" column="law_satistify_code"/>
        <result property="lawSatistifyReason" column="law_satistify_reason"/>
        <result property="memberId" column="member_id"/>
        <result property="lawSatistifyWhether" column="law_satistify_whether"/>
        <result property="codeRegDay" column="code_reg_day"/>
    </resultMap>

    <resultMap type="AdminIncongruitySectors" id="adminIncongruitySectorsListMap">
        <id property="incongruitySectorsCode" column="incongruity_sectors_code"/>
        <result property="incongruitySectorsBusiness" column="incongruity_sectors_business"/>
        <result property="memberId" column="member_id"/>
        <result property="incongruitySectorsWhether" column="incongruity_sectors_whether"/>
        <result property="codeRegDay" column="code_reg_day"/>
    </resultMap>

    <resultMap type="AdminCorporateValueEvaluation" id="adminCorporateValueEvaluationListMap">
        <id property="corporateValueEvaluationCode" column="corporate_value_evaluation_code"/>
        <result property="memberId" column="member_id"/>
        <result property="operatingProfit" column="operating_profit"/>
        <result property="depreciation" column="depreciation"/>
        <result property="ebitda" column="ebitda"/>
        <result property="evEbitda" column="ev_ebitda"/>
        <result property="convertEv" column="convert_ev"/>
        <result property="netDebt" column="net_debt"/>
        <result property="evaluatedCorpValue" column="evaluated_corp_value"/>
        <result property="stockNumber" column="stock_number"/>
        <result property="stockPrice" column="stock_price"/>
        <result property="corpValueFulfill" column="corp_value_fulfill"/>
        <result property="corpValueEvaluateDay" column="corp_value_evaluate_day"/>

        <association property="adminInvestmentRequestJudge" javaType="AdminInvestmentRequestJudge">
            <id property="investmentRequestJudgeCode" column="investment_request_judge_code"/>
            <result property="lawSatistifyCode" column="law_satistify_code"/>
            <result property="incongruitySectorsCode" column="incongruity_sectors_code"/>
            <result property="companyBusinessTypeCode" column="company_business_type_code"/>
            <result property="corporateValueEvaluationCode" column="corporate_value_evaluation_code"/>
            <result property="storeCode" column="store_code"/>
            <result property="investmentRequestSubject" column="investment_request_subject"/>
            <result property="memberIdSeller" column="member_id_seller"/>
            <result property="investmentCompany" column="investment_company"/>
            <result property="invBusinessType" column="business_type"/>
            <result property="investmentRequestContent" column="investment_request_content"/>
            <result property="investmentAchievementMoney" column="investment_achievement_money"/>
            <result property="lawSatistifyReason" column="law_satistify_reason"/>
            <result property="businessProfits" column="business_profits"/>
            <result property="depreciation" column="depreciation"/>
            <result property="netDebt" column="net_debt"/>
            <result property="stockNumber" column="stock_number"/>
            <result property="issueStockNumber" column="issue_stock_number"/>
            <result property="investmentRequestDate" column="investment_request_date"/>
            <result property="investJudgeDate" column="invest_judge_date"/>
            <result property="memberId" column="member_id"/>
            <result property="investJudgeResult" column="invest_judge_result"/>
            <result property="todayRequestCnt" column="todayRequestCnt"/>
            <result property="standbyCnt" column="standbyCnt"/>
            <result property="todayProceedCnt" column="todayProceedCnt"/>
            <result property="rejectCnt" column="rejectCnt"/>
            <result property="cbtBusinessType" column="cbtBusinessType"/>
        </association>
    </resultMap>

    <resultMap type="SellerInvestmentContent" id="sellerInvestmentContentList">
        <id property="investmentContentCode" column="investment_content_code"/>
        <result property="memberId" column="member_id"/>
        <result property="investmentCode" column="investment_code"/>
        <result property="memberIdAdmin" column="member_id_admin"/>
        <result property="projectIntroduction" column="project_introduction"/>
        <result property="investmentIntroductionImage" column="investment_introduction_image"/>
        <result property="marketAnalysis" column="market_analysis"/>
        <result property="marketAnalysisImage" column="market_analysis_image"/>
        <result property="majorFinancialInformation" column="major_financial_information"/>
        <result property="majorFinancialInformationImage" column="major_financial_information_image"/>
        <result property="risk" column="risk"/>
        <result property="riskImage" column="risk_image"/>
        <result property="majorManpower" column="major_manpower"/>
        <result property="majorManpowerImage" column="major_manpower_image"/>
        <result property="patentAwardDetails" column="patent_award_details"/>
        <result property="patentAwardDetailsImage" column="patent_award_details_image"/>
        <result property="etcInvestContent" column="etc_invest_content"/>
        <result property="etcInvestContentImage" column="etc_invest_content_image"/>
        <result property="registrationDate" column="registration_date"/>
    </resultMap>

    <!-- 판매자 투자펀딩 공고 목록 조회 -->
    <select id="getInvestmentList" resultMap="adminInvestmentListMap">
        /* 판매자 투자펀딩 공고 목록 조회 */
        SELECT
            i.investment_code,
            i.investment_request_judge_code,
            i.member_id_seller,
            i.investment_subject,
            i.investment_like,
            i.investment_amount,
            i.investment_achievement_money AS invInvestmentAchievementMoney,
            i.invest_achievement_percent,
            i.investment_company,
            i.search_count,
            i.invest_count,
            i.securities_classification,
            i.investment_display_date,
            i.investment_deadline,
            i.invest_judge_situation
        FROM
            investment AS i
        WHERE
            i.member_id_seller = #{memberIdSeller}
        <if test="startRowNum > -1">
            LIMIT #{startRowNum}, #{rowPerPage};
        </if>
    </select>

    <!-- 판매자 투자펀딩 공고 전체 행의 갯수 -->
    <select id="getInvestment" resultType="int">
        /* 판매자 투자펀딩 공고 전체 행의 갯수 */
        SELECT
            COUNT(1)
        FROM
            investment
    </select>

    <!-- 판매자 검색조건에 따른 투자펀딩 공고 목록 조회 -->
    <select id="getInvestmentListBySearch" resultMap="adminInvestmentListMap">
        /* 판매자 검색조건에 따른 투자펀딩 공고 목록 조회 */
        SELECT
            i.investment_code,
            i.investment_request_judge_code,
            i.member_id_seller,
            i.investment_subject,
            i.investment_like,
            i.investment_amount,
            i.investment_achievement_money AS invInvestmentAchievementMoney,
            i.invest_achievement_percent,
            i.investment_company,
            i.search_count,
            i.invest_count,
            i.securities_classification,
            i.investment_display_date,
            i.investment_deadline,
            i.invest_judge_situation
        FROM
            investment AS i
        <where>
            <if test="amDateSettStartDate != null and amDateSettStartDate != ''">
                DATE_FORMAT(i.investment_request_date, '%Y-%m-%d') >= #{amDateSettStartDate}
                AND
            </if>
            <if test="amDateSettEndDate != null and amDateSettEndDate != ''">
                #{amDateSettEndDate} >= DATE_FORMAT(i.investment_request_date, '%Y-%m-%d')
                AND
            </if>
            <if test="searchKey != null and searchKey != '' and searchSelectValue != null and searchSelectValue != ''">
                ${searchKey} = #{searchSelectValue}
                AND
            </if>
            <if test="searchKey != null and searchKey != ''">
                ${searchKey} LIKE CONCAT('%', #{searchValue}, '%')
                AND
            </if>
            i.member_id_seller = #{memberIdSeller}
        </where>
        <if test="startRowNum > -1">
            LIMIT #{startRowNum}, #{rowPerPage};
        </if>
    </select>

    <!-- 판매자 특정 투자펀딩 공고 조회 -->
    <select id="getInvestementByCode" resultMap="adminInvestmentListMap">
        /* 판매자 특정 투자펀딩 공고 조회 */
        SELECT
            i.investment_request_judge_code,
            ir.investment_request_subject,
            ir.investment_request_content,
            ir.investment_request_date,
            ir.investment_achievement_money,
            ir.business_profits,
            ir.depreciation,
            ir.net_debt,
            ir.issue_stock_number,
            i.investment_code,
            i.investment_subject,
            i.store_code,
            s.store_name,
            i.total_category_code,
            i.investment_company,
            i.member_id_seller,
            s.representative_name,
            ic.project_introduction,
            i.investment_like,
            i.investment_amount,
            i.investment_achievement_money AS invInvestmentAchievementMoney,
            i.invest_achievement_percent,
            i.search_count,
            i.invest_count,
            i.securities_classification,
            i.investment_display_date,
            i.investment_reg_date,
            i.investment_deadline,
            i.basic_fee,
            i.contract_fee_rate,
            i.invest_judge_situation
        FROM
            investment AS i
            INNER JOIN
            store AS s
            ON
            i.store_code = s.store_code
            INNER JOIN
            investment_content AS ic
            ON
            i.investment_code = ic.investment_code
            INNER JOIN
            investment_request_judge AS ir
            ON
            i.investment_request_judge_code = ir.investment_request_judge_code
        WHERE
            i.investment_code = #{investmentCode};
    </select>

    <!-- 판매자 투자펀딩 심사요청 목록 조회 -->
    <select id="getInvestmentRequestJudgeList" resultMap="adminInvestmentRequestJudgeListMap">
        /* 판매자 투자펀딩 심사요청 목록 조회 */
        SELECT
            i.investment_request_judge_code,
            i.investment_request_subject,
            i.member_id_seller,
            s.store_name,
            s.corporate_name AS corporateName,
            i.investment_company,
            s.representative_name,
            i.investment_achievement_money,
            i.investment_request_date,
            i.invest_judge_date,
            i.member_id,
            i.invest_judge_result
        FROM
            investment_request_judge AS i
            INNER JOIN
            store AS s
            ON
            i.store_code = s.store_code
        WHERE
            i.member_id_seller = #{memberIdSeller}
        ORDER BY i.investment_request_judge_code DESC
        <if test="startRowNum > -1">
            LIMIT #{startRowNum}, #{rowPerPage};
        </if>
    </select>

    <!-- 판매자 투자펀딩 심사요청 전체 행의 갯수 -->
    <select id="getInvestmentRequestJudgeCnt" resultType="int">
        /* 판매자 투자펀딩 심사요청 전체 행의 갯수 */
        SELECT
            COUNT(1)
        FROM
            investment_request_judge
    </select>

    <!-- 판매자 검색조건에 따른 투자펀딩 심사요청 목록 조회 -->
    <select id="getInvestmentRequestJudgeListBySearch" parameterType="String" resultMap="adminInvestmentRequestJudgeListMap">
        /* 검색조건에 따른 투자펀딩 심사요청 목록 조회 */
        SELECT
            i.investment_request_judge_code,
            i.investment_request_subject,
            i.member_id_seller,
            s.store_name,
            s.corporate_name AS corporateName,
            i.investment_company,
            s.representative_name,
            i.investment_achievement_money,
            i.investment_request_date,
            i.invest_judge_date,
            i.member_id,
            i.invest_judge_result
        FROM
            investment_request_judge AS i
            INNER JOIN
            store AS s
            ON
            i.store_code = s.store_code
        <where>
            <if test="amDateSettStartDate != null and amDateSettStartDate != ''">
                DATE_FORMAT(i.investment_request_date, '%Y-%m-%d') >= #{amDateSettStartDate}
                AND
            </if>
            <if test="amDateSettEndDate != null and amDateSettEndDate != ''">
                #{amDateSettEndDate} >= DATE_FORMAT(i.investment_request_date, '%Y-%m-%d')
                AND
            </if>
            <if test="searchKey != null and searchKey != '' and searchSelectValue != null and searchSelectValue != ''">
                ${searchKey} = #{searchSelectValue}
                AND
            </if>
            <if test="searchKey != null and searchKey != ''">
                ${searchKey} LIKE CONCAT('%', #{searchValue}, '%')
                AND
            </if>
            i.member_id_seller = #{memberIdSeller}
        </where>
        <if test="startRowNum > -1">
            LIMIT #{startRowNum}, #{rowPerPage};
        </if>
    </select>

    <!-- 판매자 특정 투자펀딩 심사요청 조회 -->
    <select id="getInvestmentRequestJudgeByCode" parameterType="String" resultMap="adminInvestmentRequestJudgeListMap">
        /* 특정 투자펀딩 심사요청 조회 */
        SELECT
            inv.investment_code,
            inv.investment_subject,
            inv.investment_achievement_money AS invInvestmentAchievementMoney,
            inv.investment_amount,
            inv.invest_achievement_percent,
            inv.investment_deadline,
            i.investment_request_judge_code,
            i.law_satistify_code,
            l.law_satistify_reason,
            i.incongruity_sectors_code,
            i.company_business_type_code,
            i.corporate_value_evaluation_code,
            i.store_code,
            i.investment_request_subject,
            i.member_id_seller,
            s.store_name,
            s.corporate_name AS corporateName,
            i.investment_company,
            s.representative_name,
            c.business_type AS cbtBusinessType,
            i.business_type,
            i.investment_request_content,
            i.investment_achievement_money,
            i.business_profits,
            i.depreciation,
            i.net_debt,
            i.stock_number,
            i.issue_stock_number,
            i.investment_request_date,
            i.invest_judge_date,
            i.member_id,
            i.invest_judge_result
        FROM
            investment_request_judge AS i
            LEFT JOIN
            investment AS inv
            ON
            i.investment_request_judge_code = inv.investment_request_judge_code
            INNER JOIN
            store AS s
            ON
            i.store_code = s.store_code
            INNER JOIN
            company_business_type AS c
            ON
            i.company_business_type_code = c.company_business_type_code
            LEFT JOIN
            law_satistify_reason AS l
            ON
            i.law_satistify_code = l.law_satistify_code
        WHERE
            i.investment_request_judge_code = #{investmentRequestJudgeCode};
    </select>

    <!-- 판매자 자본시장법 범위충족기준 목록 조회 -->
    <select id="getLawSatistifyList" resultMap="adminLawSatistifyReasonListMap">
        /* 자본시장법 범위충족기준 목록 조회 */
        SELECT
            l.law_satistify_code,
            l.law_satistify_reason,
            l.member_id,
            l.law_satistify_whether,
            l.code_reg_day
        FROM
            law_satistify_reason AS l
    </select>

    <!-- 판매자 부적합 업종 목록 조회 -->
    <select id="getIncogruitySectorsList" resultMap="adminIncongruitySectorsListMap">
        /* 부적합 업종 목록 조회 */
        SELECT
            i.incongruity_sectors_code,
            i.incongruity_sectors_business,
            i.member_id,
            i.incongruity_sectors_whether,
            i.code_reg_day
        FROM
            incongruity_sectors AS i;
    </select>

    <!-- 판매자 특정 기업가치 평가결과 조회 -->
    <select id="getCorporateValueEvaluationByCode" resultMap="adminCorporateValueEvaluationListMap">
        /* 특정 기업가치 평가결과 조회 */
        SELECT
            i.investment_request_judge_code,
            i.investment_request_subject,
            i.investment_request_content,
            i.investment_request_date,
            i.member_id_seller,
            i.investment_achievement_money,
            i.issue_stock_number,
            c.corporate_value_evaluation_code,
            c.member_id,
            c.operating_profit,
            c.depreciation,
            c.ebitda,
            c.ev_ebitda,
            c.convert_ev,
            c.net_debt,
            c.evaluated_corp_value,
            c.stock_number,
            c.stock_price,
            c.corp_value_fulfill,
            c.corp_value_evaluate_day
        FROM
            corporate_value_evaluation AS c
            INNER JOIN
            investment_request_judge AS i
            ON
            c.corporate_value_evaluation_code = i.corporate_value_evaluation_code
        WHERE
            c.corporate_value_evaluation_code = #{corporateValueEvaluationCode};
    </select>

    <!-- 판매자 투자펀딩 심사요청 수정 -->
    <update id="modifyInvestmentRequestJudge" parameterType="AdminInvestmentRequestJudge">
        /* 투자펀딩 심사요청 수정 */
        UPDATE investment_request_judge
        <set>
            <if test="investmentRequestJudgeCode != null and investmentRequestJudgeCode != ''">
                investment_request_judge_code = #{investmentRequestJudgeCode},
            </if>
            <if test="lawSatistifyCode != null and lawSatistifyCode != ''">
                law_satistify_code = #{lawSatistifyCode},
            </if>
            <if test="lawSatistifyCode == null or lawSatistifyCode == ''">
                law_satistify_code = null,
            </if>
            <if test="incongruitySectorsCode != null and incongruitySectorsCode != ''">
                incongruity_sectors_code = #{incongruitySectorsCode},
            </if>
            <if test="incongruitySectorsCode == null or incongruitySectorsCode == ''">
                incongruity_sectors_code = null,
            </if>
            <if test="companyBusinessTypeCode != null and companyBusinessTypeCode != ''">
                company_business_type_code = #{companyBusinessTypeCode},
            </if>
            <if test="corporateValueEvaluationCode != null and corporateValueEvaluationCode != ''">
                corporate_value_evaluation_code = #{corporateValueEvaluationCode},
            </if>
            <if test="storeCode != null and storeCode != ''">
                store_code = #{storeCode},
            </if>
            <if test="investmentRequestSubject != null and investmentRequestSubject != ''">
                investment_request_subject = #{investmentRequestSubject},
            </if>
            <if test="memberIdSeller != null and memberIdSeller != ''">
                member_id_seller = #{memberIdSeller},
            </if>
            <if test="memberIdSeller != null and memberIdSeller != ''">
                member_id_seller = #{memberIdSeller},
            </if>
            <if test="investmentCompany != null and investmentCompany != ''">
                investment_company = #{investmentCompany},
            </if>
            <if test="invBusinessType != null and invBusinessType != ''">
                business_type = #{invBusinessType},
            </if>
            <if test="investmentAchievementMoney != null and investmentAchievementMoney != ''">
                investment_achievement_money = #{investmentAchievementMoney},
            </if>
            <if test="businessProfits != null and businessProfits != ''">
                business_profits = #{businessProfits},
            </if>
            <if test="depreciation != null and depreciation != ''">
                depreciation = #{depreciation},
            </if>
            <if test="netDebt != null and netDebt != ''">
                net_debt = #{netDebt},
            </if>
            <if test="netDebt != null and netDebt != ''">
                net_debt = #{netDebt},
            </if>
            <if test="stockNumber != null and stockNumber != ''">
                stock_number = #{stockNumber},
            </if>
            <if test="issueStockNumber != null and issueStockNumber != ''">
                issue_stock_number = #{issueStockNumber}
            </if>
        </set>
        WHERE
            investment_request_judge_code = #{investmentRequestJudgeCode};
    </update>

    <!-- 판매자 투자펀딩 심사요청 삭제 -->
    <delete id="removeInvestmentRequestJudge" parameterType="String">
        /* 투자펀딩 심사요청 삭제 */
        DELETE
        FROM
            investment_request_judge
        WHERE
            investment_request_judge_code = #{investmentRequestJudgeCode};
    </delete>

</mapper>