<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{seller/layout/default}">

<head>
    <!--  사용자별 css file 추가 부분 -->
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>


<!-- 사용자 페이지별 javascript file -->
<th:block layout:fragment="customJsFile">

</th:block>

<!-- 사용자별 스크립트 작성 -->
<th:block layout:fragment="customJsCode">
    <script>
        function toggleInput() {
            let selectElement = document.getElementById('searchKey');
            let searchInput = document.getElementById('inputSearchValue');
            let searchSelect = document.getElementById('selectSearchValue');

            if (selectElement.value === 'investJudgeResult') {
                searchInput.classList.add('hidden');
                searchSelect.classList.remove('hidden');
                searchInput.value = '';
            } else {
                searchInput.classList.remove('hidden');
                searchSelect.classList.add('hidden');
                searchSelect.value = '';
            }
        }
    </script>
</th:block>


<!--/* layout:decorate : 파일에서 사용자 정의로 선언한 조각에 작성한 html 코드 삽입 */-->
<th:block layout:fragment="customContents">

    <div th:include="~{admin/judgement/investment/search/invest_jduge_search :: searchFragment}"></div>
    <br>

    <h4 class="admin-content-title">투자 심사요청 목록</h4>

    <div class="admin-content-wrapper">

        <div class="data-info">
            <div class="list-count-area">
                <ul>
                    <li>심사 요청 총 <span class="count-data total-list">0</span>건</li>
                    <li>선택 항목 총 <span class="count-data select-list-count">0</span>건</li>
                </ul>
            </div>
            <div class="list-count-selector">
                <select name="orderby">
                    <option value="regist_d">신청일 순</option>
                    <option value="regist_a">신청일 역순</option>
                    <option>-----------------</option>
                    <option value="project_name_d">요청 코드순</option>
                    <option value="project_name_a">요청 코드 역순</option>
                    <option>-----------------</option>
                    <option value="project_name_d">심사요청 제목순</option>
                    <option value="project_name_a">심사요청 제목역순</option>
                </select>
                <select name="rowPerpage">
                    <option value="15">15개씩 보기</option>
                    <option value="20">20개씩 보기</option>
                    <option value="30">30개씩 보기</option>
                </select>
            </div>
        </div>

        <table class="settlement-log">
            <thead>
            <tr>
                <th>
                    <input type="checkbox" name="allSelect" id="allSelectBtn">
                </th>
                <th>투자 공고 코드</th>
                <th>투자 심사요청 코드</th>
                <th>요청한 아이디</th>
                <th>공고 제목</th>
                <th>좋아요 수</th>
                <th>펀딩된 금액</th>
                <th>투자 펀딩 목표 금액</th>
                <th>달성율</th>
                <th>회사명</th>
                <th>조회수</th>
                <th>투자자 수</th>
                <th>증권구분</th>
                <th>공고일</th>
                <th>마감일</th>
            </tr>
            </thead>
            <tbody>
            <tr th:if="${adminInvestmentList == null}">
                <td>
                    <input type="checkbox" name="selectList">
                </td>
                <td colspan="12">투자 심사요청 목록이 없습니다.</td>
            </tr>
            <tr th:unless="${adminInvestmentList == null}" th:each="l : ${adminInvestmentList}">
                <td>
                    <input type="checkbox" name="selectList">
                </td>
                <td>
                    <a class="detail-link"
                       th:href="@{/seller/investment/view/investment(investmentCode=${l.investmentCode})}"
                       th:text="${l.investmentCode}"></a>
                </td>
                <td th:text="${l.investmentRequestJudgeCode}"></td>
                <td th:text="${l.memberIdSeller}"></td>
                <td th:text="${l.investmentSubject}"></td>
                <td th:text="${l.investmentLike}"></td>
                <td th:text="${#numbers.formatInteger(l.investmentAmount,3,'COMMA')} + '원'"></td>
                <td th:text="${#numbers.formatInteger(l.invInvestmentAchievementMoney,3,'COMMA')} + '원'"></td>
                <td><span th:text="${l.investAchievementPercent}"></span>%</td>
                <td th:text="${l.investmentCompany}"></td>
                <td th:text="${l.searchCount}"></td>
                <td th:text="${l.investCount}"></td>
                <td th:text="${l.securitiesClassification}"></td>
                <td th:text="${l.investmentDisplayDate}"></td>
                <td th:text="${l.investmentDeadline}"></td>
            </tr>
            </tbody>
        </table>

        <div class="board-page-area">
            <div class="list-controller-inner">
                <ul>
                    <li><a th:href="@{/seller/investment/invest-main}">[맨처음으로]</a></li>
                    <li><a th:if="${currentPage > 1}"
                           th:href="@{/seller/investment/invest-main(currentPage=${currentPage - 1})}">[이전]</a>
                        <span th:unless="${currentPage > 1}">[이전]</span>
                    </li>
                    <th:block th:each="num : ${#numbers.sequence(startPageNum, endPageNum)}">
                        <a th:if="${num != currentPage}"
                           th:href="@{/seller/investment/invest-main(currentPage=${num})}">[[${'[' + num + ']'}]]</a>
                        <span th:unless="${num != currentPage}" th:text="|[${num}]|"></span>
                    </th:block>
                    <li><a th:if="${currentPage < lastPage}"
                           th:href="@{/seller/investment/invest-main(currentPage=${currentPage +1})}">[다음]</a>
                        <span th:unless="${currentPage < lastPage}">[다음]</span>
                    </li>
                    <li><a th:href="@{/seller/investment/invest-main(currentPage=${lastPage})}">[맨마지막]</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="btn-area">
        <ul>
            <li>
                <button type="button" class="submitBtn"
                        th:onclick="|location.href='@{/user/projectRegistration/investment/judge}'|">
                    등록하기
                </button>
            </li>
        </ul>
    </div>
</th:block>
</html>