<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/layout/login_default}">
<!--ë¡œê·¸ì¸ í›„ ë³¼ ìˆ˜ ìˆëŠ” ìœ ì € ë§ˆì´ í˜ì´ì§€-->
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <style>
        .login-logo .user-connection-menu {
            display: none;
        }
        #tabWrapper {
            background-color: white;
            display: flex;
            justify-content: center;
            overflow: hidden;
            padding-top: 30px;
        }

        #tabContainer {
            width: 1040px;
        }

        .nav-link{
            font-size: medium;
        }

        #profileContainer{
            display: flex;
            justify-content: center;
            padding: 35px;
            flex-direction: column;
        }

        .img-box{
            margin: 0 auto;
        }

        #name-box{
            display: flex;
            justify-content: center;
            flex-direction: row;
        }

        /*  tabì˜ ë‚´ë¶€ ì˜ì—­ ì‹œì‘ */
        .titleContainer{
            /*display : flex;*/
            flex-direction: column;
            /*height : 150px;*/
            justify-content: start;
            padding: 30px 0 20px 30px;

        }

        /* tab ë‚´ë¶€ì˜ íƒ€ì´í‹€ ì˜ì—­ */
        .tabTitle{
            display : flex;
            height : 50px;
            flex-direction: column;
            justify-content: start;
            font-size : 30px;
            font-weight: bold;
            margin-bottom: 30px;
            color:black; !important;
        }

        /* ì…€ë ‰íŠ¸ í¬í•¨í•œ div */
        #selectContainer{
            display: flex;
            width: 250px;
            height: 50px;
        }

        #selectFund{
            font-size:16px;
            padding:10px 70px 10px 10px;
            color:dimgray;
        }

        /* tab ë‚´ë¶€ì˜ ë³¸ë¬¸ ì˜ì—­ */
        .bodyContainer{
            display : flex;
            flex-direction: column;
            padding: 30px;
        }

        /* ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ í•­ëª©  */
        .contentsContainer{
            margin-bottom: 10px;
            display:flex;
            align-items: center;
            flex-direction: column;
        }

        /*  ê²€ì€ ë²„íŠ¼  */
        .submitBtn_black {
            background: #191919;
            padding: 7px 23px;
            transition: all .4s;
            color: #fff;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 7px;
        }

        .submitBtn_black:hover {
            background: var(--maincolor);
            border: 1px solid var(--maincolor);
        }

        .submitBtn_black:disabled{
            background-color: lightgrey;
            border: 1px solid lightgrey;
        }

        /* í° ë²„íŠ¼ */
        .submitBtn_white {
            background: #fff;
            padding: 7px 23px;
            transition: all .4s;
            color: #191919;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 7px;
        }

        .submitBtn_white:hover {
            background: var(--maincolor);
            border: 1px solid var(--maincolor);
            color: #fff;
        }

        /* í° ë²„íŠ¼ */
        .submitBtn_blue {
            background: var(--maincolor);
            padding: 7px 23px;
            transition: all .4s;
            color: #fff;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 7px;
        }

        .submitBtn_blue:hover {
            background: #fff;
            border: 1px solid #191919;;
            color: #191919;
        }

        .nav-link{
            padding:10px 60px 0 60px;
        }

        .user-info{
            width: 400px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            color:black;
            padding-left: 10px;
        }

        .h4 pb-2 mb-4 text-danger border-bottom border-grey{
            height: 80px ;
        }
        .user-info-list{
            font-weight: bold;
            font-size: medium;
            color: black;
        }

        /* íšŒì› íƒˆí‡´ a íƒœê·¸*/
        #lead-drop-page {
            color: lightgrey;
        }

        #lead-drop-page:hover {
            color: black; /* í¬ì»¤ì‹±ë  ë•Œ ê¸€ì ìƒ‰ìƒì„ ê²€ì€ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        }

        .hidden{
            display: none;
        }

        .btn.btn-secondary.btn-sm{
            background-color: lightgrey;
            border: 1px solid white;
            border-radius: 5px;
        }
        input::placeholder,.form-control {
            font-size: 14px; /* ì›í•˜ëŠ” ê¸€ê¼´ í¬ê¸°ë¡œ ì¡°ì ˆ */
            color: lightgrey;
        }

    </style>

</head>
<body>
<!--ì‚¬ìš©ìë³„ html-->
<th:block layout:fragment="customContents">
    <!-- ìœ ì € í”„ë¡œí•„ ì˜ì—­   -->
    <div id="profileContainer">
        <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
        <div class="img-box">
            <img style="width: 90px; height: 90px; border-radius: 50%;" src="https://search.pstatic.net/sunny/?src=https%3A%2F%2Fi.namu.wiki%2Fi%2FDgDM89CJAmUv4KwG-JNwQOWklX6MPKPXip-KQL66igwbwegZ3y6pRdFZ3Ne28Qn7JaxXZzewB3_iHM_uqJ7s8A.webp&type=sc960_832"
                 id="profile_img" alt="">
        </div>

        <!-- ì‚¬ìš©ì ì´ë¦„ + ì„¤ì • ì•„ì´ì½˜ -->
        <div id="name-box">
            <!-- ì‚¬ìš©ì ì´ë¦„ -->
            <h2>ìµœë¯¸ë¯¸</h2>
            <!-- ì„¤ì • ì•„ì´ì½˜ í´ë¦­ì‹œ í”„ë¡œí•„ ì„¤ì • í˜ì´ì§€ë¡œ ì´ë™  -->
            <a th:href="@{/user/mypage/profile}"><i class="bi bi-gear" id="showProfileIcon" ></i></a>
        </div>
    </div>
    <!-- tab ë©”ë‰´ ì˜ì—­  -->
    <!-- data-toggle="tab" ì†ì„±ì„ Bootstrapì˜ <a> íƒœê·¸ì— ì¶”ê°€í•˜ë©´ í•´ë‹¹ ë§í¬ê°€ tab ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì–´í•˜ë„ë¡ ì„¤ì • -->
    <div id="tabWrapper">
        <div id="tabContainer">
            <ul class="nav nav-tabs nav-justified justify-content-center" id="tabList">
                <li class="nav-item"><a href="#menu1" class="nav-link active" data-toggle="tab">í›„ì›í•œ í€ë”©</a></li>
                <li class="nav-item"><a href="#menu2" class="nav-link " data-toggle="tab">ì°œí•œ í€ë”©</a></li>
                <li class="nav-item"><a href="#menu5" class="nav-link" data-toggle="tab">ì ë¦½ê¸ˆ/ì¿ í°/</a></li>
                <li class="nav-item"><a href="#menu6" class="nav-link" data-toggle="tab">ë‚´ ì •ë³´</a></li>
            </ul>

    <!-- tab ë‚´ì— í‘œì‹œë  ì˜ì—­  -->
            <div class="tab-content" >
                <div id="menu1" class="container tab-pane active">
                    <!--  tab ë‚´ë¶€ íƒ€ì´í‹€ ì˜ì—­ -->
                    <div class="titleContainer" >
                        <div class="tabTitle">í€ë”© ë‚´ì—­</div>

                    <!--  í€ë”© ì¢…ë¥˜ select  -->
                    <div id="selectContainer">
                        <select id="selectFund" class="form-select form-select-lg" >
                            <option class="fundCategory" value="viewAll">ì „ì²´</option>
                            <option class="fundCategory" value="reward">ë¦¬ì›Œë“œ</option>
                            <option class="fundCategory" value="investment">íˆ¬ì</option>
                            <option class="fundCategory" value="donation">ê¸°ë¶€</option>
                        </select>
                    </div>

                    </div >
                    <!--  ë¦¬ì›Œë“œ í€ë”© ì„ íƒì‹œ ë‚˜íƒ€ë‚  í˜ì´ì§€  -->
                    <!--  tab ë‚´ë¶€ ë³¸ë¬¸ ì˜ì—­ -->
                    <div class="bodyContainer" id="orderProject">
                        <!--  ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ í•­ëª© -->
                        <div class="contentsContainer mb-lg-5" th:each="l : ${mypageOrderList}">
                            <div class="card" style="width: 48rem;">
                                <!-- ë‚´ì—­ ìƒíƒœ ( ì£¼ë¬¸ ìƒíƒœ ìƒì„¸ )  -->
                                <h5 class="card-header" th:text="${l.orderCategoryDetail}"></h5>
                                <!-- ë‚´ì—­ ë‚´ìš© -->
                                <div class="card-body" style="display: flex">
                                    <!-- ì´ë¯¸ì§€  -->
                                    <div>
                                        <img class="card-img-top" style="width: 160px; height: 160px;" alt="..." th:src="|@{/summernoteImage/}${l.projectThumbnailImage}|"
                                             onerror="this.src = 'https://as1.ftcdn.net/v2/jpg/04/34/72/82/1000_F_434728286_OWQQvAFoXZLdGHlObozsolNeuSxhpr84.jpg';">
                                    </div>

                                    <!-- ì„¤ëª… / ë²„íŠ¼ -->
                                    <form action="" method="post" style="display: flex; flex-direction: column; justify-content:space-between; padding-left:30px; width: 1200px;">
                                            <p class="orderApplicationDate" th:text="${l.orderApplicationDate}">2023.10.30 ê²°ì œ</p>
                                            <h5 class="orderName" th:text="${l.orderFundingName}">[9ë§Œì›ëŒ€ | ê°€ì„±ë¹„ ëíŒì™•] ëˆ„ì   ëª¨ë˜ì‹œê³„ ê°€ì—´ì‹ ê°€ìŠµê¸°</h5>
                                            <th:block th:if="${#lists.size(rl) > 0}" th:each="rl : ${l.rewardOrderDetailList}">
                                                <span class="card-text" th:text="${rl.optionName}">ëˆ„ì   ëª¨ë˜ì‹œê³„ ê°€ì—´ì‹ ê°€ìŠµê¸°(í™”ì´íŠ¸)</span>
                                                <span th:text="|ì£¼ë¬¸ ìˆ˜ëŸ‰ : ${rl.orderOptionAmount} ê°œ|"></span>
                                            </th:block>
                                            <div style="display: flex; justify-content: end; margin:0;">
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_001'}">
                                                    <!--ë¦¬ì›Œë“œ í”„ë¡œì íŠ¸ ì£¼ë¬¸ ì™„ë£Œ-->
                                                    <a th:href="@{/user/mypage/reward/orderConfirm(orderCode=${l.orderCode})}" class="confirmBtn submitBtn_blue">êµ¬ë§¤ í™•ì •</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/cancel(orderCode=${l.orderCode})}" class="orderCancelBtn submitBtn_black">ì£¼ë¬¸ ì·¨ì†Œ</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_002'}">
                                                    <!--ê¸°ë¶€ í”„ë¡œì íŠ¸ ì£¼ë¬¸ ì™„ë£Œ-->
                                                    <a href="#" class="payDetailBtn submitBtn_white" >ê¸°ë¶€ ë‚´ì—­</a>
                                                    <!--ê¸°ë¶€ ì·¨ì†ŒëŠ” ê¸°ë¶€ ì£¼ë¬¸ í›„ 7ì¼ ì´ë‚´ ê°€ëŠ¥í•˜ë„ë¡.-->
                                                    <a href="#" class="payDetailBtn orderCancelBtn submitBtn_black">ê¸°ë¶€ ì·¨ì†Œ</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_003'}">
                                                    <!--íˆ¬ì í”„ë¡œì íŠ¸ ì£¼ë¬¸ ì™„ë£Œ, ì²­ì•½ ì‹ ì²­ ì¤‘-->
                                                    <a href="#" class="submitBtn_white">íˆ¬ì í˜„í™©</a>
                                                    <a href="#" class="payDetailBtn submitBtn_white">íˆ¬ì ë‚´ì—­</a>
                                                    <a href="#" class="orderCancelBtn submitBtn_black">íˆ¬ì ì·¨ì†Œ</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_004'}">
                                                    <!--ë¦¬ì›Œë“œ ë°°ì†¡ ëŒ€ê¸°-->
                                                    <a href="#" class="confirmBtn submitBtn_white" >êµ¬ë§¤ í™•ì •</a>
                                                    <a href="#" class="payDetailBtn submitBtn_white" >ê²°ì œ ë‚´ì—­</a>
                                                    <a href="#" class="orderCancelBtn submitBtn_black" data-toggle="modal" data-target="#exampleModal3" data-what="hello">ì£¼ë¬¸ ì·¨ì†Œ</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_015'}">
                                                    <!--ë¦¬ì›Œë“œ ë°°ì†¡ ì¤‘-->
                                                    <a th:href="@{/user/mypage/reward/orderConfirm(orderCode=${l.orderCode})}" class="confirmBtn submitBtn_blue">êµ¬ë§¤ í™•ì •</a>
                                                    <a href="#" class="submitBtn_white" >ë°°ì†¡ ì •ë³´</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_005'}">
                                                    <!--ë¦¬ì›Œë“œ ë°°ì†¡ ì™„ë£Œ-->
                                                    <a th:href="@{/user/mypage/reward/orderConfirm(orderCode=${l.orderCode})}" class="confirmBtn submitBtn_blue">êµ¬ë§¤ í™•ì •</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/refund}" class="submitBtn_black" >í™˜ë¶ˆ ì‹ ì²­</a>
                                                    <a th:href="@{/user/mypage/refund/cancel}" class="submitBtn_black" >êµí™˜ ì‹ ì²­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_006'}">
                                                    <!--ë¦¬ì›Œë“œ ì£¼ë¬¸ í™•ì •-->
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_007'}">
                                                    <!--ê¸°ë¶€ ì£¼ë¬¸ í™•ì •-->
                                                    <a href="#" class="submitBtn_white" >ê¸°ë¶€ í˜„í™©</a>
                                                    <a href="#" class="submitBtn_white" >ê¸°ë¶€ ìƒì„¸</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_008'}">
                                                    <!--íˆ¬ì ì£¼ë¬¸ í™•ì •, ë‚©ì…ì¼ ë„ë˜-->
                                                    <a href="#" class="submitBtn_white" >íˆ¬ì í˜„í™©</a>
                                                    <a href="#" class="submitBtn_white" >íˆ¬ì ìƒì„¸</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_009'}">
                                                    <!--ë¦¬ì›Œë“œ í™˜ë¶ˆ ì§„í–‰ ì¤‘-->
                                                    <a href="#" class="submitBtn_white" >í™˜ë¶ˆ ìƒì„¸</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_010'}">
                                                    <!--ë¦¬ì›Œë“œ í™˜ë¶ˆ ì²˜ë¦¬ ì™„ë£Œ-->
                                                    <a href="#" class="submitBtn_white" >í™˜ë¶ˆ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_011'}">
                                                    <!--ë¦¬ì›Œë“œ êµí™˜ ì§„í–‰ ì¤‘-->
                                                    <a href="#" class="submitBtn_white" >êµí™˜ ìƒì„¸</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_012'}">
                                                    <!--ë¦¬ì›Œë“œ êµí™˜ ì™„ë£Œ-->
                                                    <a href="#" class="submitBtn_white" >êµí™˜ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_013'}">
                                                    <!--ë¦¬ì›Œë“œ í”„ë¡œì íŠ¸ ì‹¤íŒ¨ë¡œ ì£¼ë¬¸ ì·¨ì†Œ-->
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ì·¨ì†Œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_014'}">
                                                    <!--ë¦¬ì›Œë“œ êµ¬ë§¤ì ì‹ ì²­ìœ¼ë¡œ ì£¼ë¬¸ ì·¨ì†Œ-->
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ì·¨ì†Œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                            </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- ëª¨ë‹¬íŒì—… -->
                        <div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">

                                    <!-- íŒì—…ì°½ ë‚´ìš© -->
                                    <div class="modal-body detail">
                                        <p>ì •ë§ë¡œ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                                    </div>

                                    <div class="modal-footer" >
                                        <button type="submit" class="submitBtn_white" data-dismiss="modal">ì·¨ì†Œ</button>
                                        <button type="submit" class="submitBtn_black">í™•ì¸</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="menu2" class="container tab-pane ">
                    <div class="titleContainer">
                        <div class="tabTitle">ì°œí•œ í€ë”©</div>
                    </div>
                </div>


                <div id="menu5" class="container tab-pane">
                    <div class="titleContainer">
                        <div class="tabTitle">ì ë¦½ê¸‰/ì¿ í°</div>
                    </div>
                </div>

                <div id="menu6" class="container tab-pane" style="" >
                    <div class="titleContainer" >
                        <div class="tabTitle">ë‚´ ì •ë³´</div>
                        <div style=" display: flex; flex-direction: column;
                        justify-content: center; align-items: center;">

                            <form class="join-form">
                                <div class="mb-6">
                                    <p class="user-info-list">ID</p>
                                    <div class="user-info">
                                    <div>id001</div>
                                    </div>
                                </div>
                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>
                                <!--  ë¹„ë°€ë²ˆí˜¸ ì •ë³´ -->
                                <div class="mb-6" style="display: flex; justify-content: space-between;" >
                                    <p class="user-info-list">ë¹„ë°€ë²ˆí˜¸</p>
                                    <button id="edit-pw-btn" type="button" data-target="edit-pw" class="btn btn-secondary btn-sm">ë³€ê²½</button>
                                </div>
                                <!-- ë³€ê²½ ë²„íŠ¼ì˜ target (ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ edit-pw divê°€ floating)  -->
                                <div id="edit-pw" class="info-box" style="margin: 10px 50px 0 50px; display: none;">
                                    <!--  ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸   -->
                                    <p>í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</p>
                                    <input class="form-control" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" id="floating-input"
                                           style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                    <div id="pw-auth-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;"></div>
                                    <button id="pw-check-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;">í™•ì¸</button>
                                    <!--  ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸   -->
                                    <p>ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸</p>
                                    <input class="form-control" type="password" placeholder="ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸" id="new-pw"
                                           style="height: 10px; border: 1px solid black; margin: 15px 40px 15px 15px;"/>
                                    <input class="form-control" type="password" placeholder="ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ í™•ì¸" id="new-pw-check"
                                           style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                    <div id="pw-check-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;" ></div>
                                    <button id="pw-edit-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;" disabled>ì €ì¥</button>
                                </div>

                                <!--  e-mail ì •ë³´ -->
                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>
                                <div class="mb-6">
                                    <div style="display: flex; justify-content: space-between;">
                                        <p class="user-info-list">e-mail</p>
                                        <button id="edit-email-btn" type="button" data-target="edit-email" class="btn btn-secondary btn-sm edit" >ë³€ê²½</button>
                                    </div>
                                    <div>
                                        <div id="edit-email" class="info-box" style="margin: 10px 50px 0 50px; display:none;">
                                            <input class="form-control" placeholder="ì´ë©”ì¼ ì…ë ¥" id="email-input"
                                                   style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                            <div id="email-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;"></div>
                                            <button id="email-edit-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;">ì €ì¥</button>
                                        </div>
                                    </div>
                                    <div class="user-info">
                                        <div class="existing-value" th:text="${memberEmail}"></div>
                                    </div>
                                </div>


                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>

                                <!--  3ï¸âƒ£ íœ´ëŒ€í° ë²ˆí˜¸ ì •ë³´ -->
                                <div class="mb-6">
                                    <div style="display: flex; justify-content: space-between;">
                                        <p class="user-info-list">íœ´ëŒ€í° ë²ˆí˜¸</p>
                                        <!-- ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ edit-pw divê°€ floating  -->
                                        <button id="edit-phone-btn" type="button" data-target="edit-phone" class="btn btn-secondary btn-sm edit">ë³€ê²½</button>
                                    </div>
                                    <div>
                                        <div id="edit-phone" class="info-box" style="margin: 10px 50px 0 50px; display: none;">
                                            <input class="form-control" placeholder="íœ´ëŒ€í° ë²ˆí˜¸ ì…ë ¥" id="phone-input"
                                                   style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                            <div id="phone-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;"></div>
                                            <button id="phone-edit-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;">ì €ì¥</button>
                                        </div>
                                    </div>
                                    <div class="user-info">
                                        <div>010-1111-1111</div>
                                    </div>
                                </div>

                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>
                                <div class="mb-6">
                                    <a id="lead-drop-page" th:href="@{/user/account/drop}">íšŒì›íƒˆí‡´</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


</th:block>

<!-- ì‚¬ìš©ìë³„ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ -->
<th:block layout:fragment="customJsFile">

</th:block>

<!-- ì‚¬ìš©ìë³„ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± -->
<th:block layout:fragment="customJsCode">

    <script type="text/javascript" th:inline="javascript">
        /* ì„ íƒí•œ select í•­ëª©ë³„ë¡œ ë‚´ìš© ë‚˜íƒ€ë‚˜ê²Œ  */
        /* ì¼ë‹¨ ëª¨ë“  í•­ëª©ì„ ìˆ¨ê¸°ê³  ë‚˜íƒ€ë‚˜ê²Œ í•´ì•¼ í•  ë“¯ */
        $rewardTab = document.getElementById('rewardTab');
        $investmentTab = document.getElementById('investmentTab');
        $selectFund = document.getElementById('selectFund');
        $donationTab = document.getElementById('donationTab');
        $bodyContainer = document.querySelectorAll('.bodyContainer');



        document.getElementById('lead-drop-page').addEventListener('focus', ()=>{
        })


        /* ë‚´ ì •ë³´ tab ğŸ”½ */
        /* ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ div ë³´ì´ê²Œ */
        const $editPwBtn = document.getElementById('edit-pw-btn');
        const $pwEditDiv = document.getElementById('edit-pw')
        $editPwBtn.addEventListener('click',function(){
            if($pwEditDiv.style.display === 'none'){
                $pwEditDiv.style.display = 'block';
                this.style.backgroundColor = 'white';
                this.style.color ='black';
                this.textContent = 'ì·¨ì†Œ';
            }else{
                $pwEditDiv.style.display = 'none';
                this.style.backgroundColor = 'lightgrey';
                this.style.color ='white';
                this.textContent = 'ë³€ê²½';
            }
        })

        /*  ì´ë©”ì¼ + ì—°ë½ì²˜ ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ ìˆ¨ê²¨ì§„ div ë³´ì´ê²Œ */
        const $editBtns = document.querySelectorAll('.btn.btn-secondary.btn-sm.edit');
        $editBtns.forEach(function (button){
            button.addEventListener('click',()=>{
                /* data-target ì†ì„± ì´ìš©í•˜ì—¬ íŠ¹ì • ë²„íŠ¼ê³¼ ì—°ê²°ëœ ìˆ¨ê²¨ì§„ div ì‹ë³„*/
                const $targetDivId = button.getAttribute('data-target');
                const $targetDiv= document.getElementById($targetDivId);

                // $targetDivì˜ ë¶€ëª¨ë¡œ ê°€ì„œ existing-value ì°¾ê¸°
                const $existingDiv = $targetDiv.parentNode.nextSibling.nextSibling;

                if($targetDiv.style.display === 'none'){
                    $targetDiv.style.display = 'block';
                    /* ìˆ¨ê²¨ì§„ div ë‚˜íƒ€ë‚˜ë©´ ê¸°ì¡´ íšŒì›ì •ë³´ ê°€ë¦¬ê¸° */
                    $existingDiv.style.display = 'none';
                    const $targetInput = $targetDiv.querySelector('.form-control');

                    $targetInput.focus();

                    $targetInput.value=$existingDiv.textContent.replaceAll(' ','');
                    button.textContent = 'ì·¨ì†Œ';
                    button.style.backgroundColor = 'white';
                    button.style.color = 'black';
                }else{
                    /* div ìˆ¨ê²¨ì§€ë©´ ê¸°ì¡´ íšŒì›ì •ë³´ ë‚˜íƒ€ë‚˜ê²Œ í•˜ê¸° */
                    $existingDiv.style.display = 'block';
                    $targetDiv.style.display = 'none';
                    button.textContent = 'ë³€ê²½';
                    button.style.backgroundColor = 'lightgrey';
                    button.style.color = 'white';
                }
            })
        })

        /* ì €ì¥ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ */
        const $pwEditBtn = document.getElementById('pw-edit-btn');
        const $emailEditBtn = document.getElementById('email-edit-btn');
        const $phoneEditBtn = document.getElementById('phone-edit-btn');


        /* ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ */
        const $pwInput = document.getElementById('floating-input');

        document.getElementById('pw-check-btn').addEventListener('click',()=>{
            $.ajax({
                url : '/user/mypage/pwCheck',
                method : 'POST',
                data : {'memberPw' : $pwInput.value },
                dataType : 'json'
            })
                .done(function(response){
                    if(!response){
                        document.getElementById('pw-auth-alert').textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤';
                        $pwEditBtn.disabled = true;
                    }else{
                        document.getElementById('pw-auth-alert').textContent = '';
                        $pwEditBtn.disabled = false;
                    }
                })

                .fail(function (jqXHR, textStatus){
                    alert('í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤');
                    console.log(`Request failed: ${textStatus}`);
                })

        })

        /* ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ ì €ì¥ ë²„íŠ¼ í´ë¦­ì‹œ : ìœ íš¨ì„± ê²€ì‚¬ + ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸ ëª¨ë‘ ë§Œì¡±ì‹œ ë¹„ë°€ë²ˆí˜¸ update */
        let $newPw = document.getElementById('new-pw');
        $pwEditBtn.addEventListener('click',function(){
            const $pwCheckAlert = document.getElementById('pw-check-alert');
            // 1. ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼ ëª» í•œ ê²½ìš°
            const $inputEles = $pwEditDiv.querySelectorAll('.form-control');
            let isValid = Array.from($inputEles).every(inputEle => validationCheck(inputEle));
            console.log(isValid);
            if(!isValid){
                $pwCheckAlert.textContent = 'ìœ íš¨í•œ ê°’ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”';
            } else{
                // 2. ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì™€ ë™ì¼í•˜ì§„ ì•Šì€ì§€ í™•ì¸
                if($pwInput.value === $newPw.value){
                    $pwCheckAlert.textContent = 'ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì™€ ë‹¤ë¥¸ ê°’ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”';
                    $newPw.focus();
                } else {
                    $pwCheckAlert.textContent = '';
                    // 3. ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼í•˜ë©´ ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸
                    if($newPw.value === document.getElementById('new-pw-check').value){
                        $pwCheckAlert.textContent = '';
                        // ë¹„ë°€ë²ˆí˜¸ UPDATE
                        $.ajax({
                            url : '/user/mypage/pwModify',
                            method : 'POST',
                            data : { 'memberPw': document.getElementById('new-pw').value },
                            dataType : 'json'
                        })
                            .done(function(response){
                                if(response.result == 1) alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì •ìƒì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.'); else alert('ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤');
                            })

                            .fail(function(jqXHR, textStatus){
                                alert('í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤');
                                console.log(`Request failed: ${textStatus}`);
                            })
                    } else {
                        $pwCheckAlert.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì„œë¡œ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
                        document.getElementById('new-pw-check').focus();

                    }
                }
            }
        })

        /* ì´ë©”ì¼ ì €ì¥ ë²„íŠ¼ í´ë¦­ì‹œ update */

        /* íœ´ëŒ€í°ë²ˆí˜¸ ì €ì¥ ë²„íŠ¼ í´ë¦­ì‹œ update */

        /* ì…ë ¥ë€ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜ */
        function validationCheck(input){
            let isValid = true;
            if( input.value.trim() === '' || typeof input === 'undefined' || input.value == null ){
                isValid = false;
                input.nextElementSibling.textContent = 'ìœ íš¨í•œ ê°’ì´ ì•„ë‹™ë‹ˆë‹¤';
            }
            return isValid;
        }


        //====================ìƒë¯¼======================

        let selectFund = [[${selectFund}]];

        $('.fundCategory').each((idx,item)=>{
            if($(item).val() === selectFund) {
                $(item).prop('selected',true);
                return false;
            }
        })
        //í€ë”© ë‚´ì—­ ì…€ë ‰íŠ¸ ë°•ìŠ¤
        $('#selectFund').change(function(){
            selectFund = $(this).val();
            console.log(selectFund);
            location.href = `/user/mypage/?selectFund=${selectFund}`;
        })

    </script>
</th:block>


</body>
</html>