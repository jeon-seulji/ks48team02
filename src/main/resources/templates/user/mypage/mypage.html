<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/layout/login_default}">
<!--로그인 후 볼 수 있는 유저 마이 페이지-->
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <style>
        .login-logo .user-connection-menu {
            display: none;
        }
        #tabWrapper {
            background-color: white;
            display: flex;
            justify-content: center;
            overflow: hidden;
            padding-top: 30px;
        }

        #tabContainer {
            width: 1040px;
        }

        .nav-link{
            font-size: medium;
        }

        #profileContainer{
            display: flex;
            justify-content: center;
            padding: 35px;
            flex-direction: column;
        }

        .img-box{
            margin: 0 auto;
        }

        #name-box{
            display: flex;
            justify-content: center;
            flex-direction: row;
        }

        /*  tab의 내부 영역 시작 */
        .titleContainer{
            display : flex;
            flex-direction: column;
            height : 150px;
            justify-content: start;
            padding: 30px 0 20px 30px;

        }

        /* tab 내부의 타이틀 영역 */
        .tabTitle{
            display : flex;
            height : 50px;
            flex-direction: column;
            justify-content: start;
            font-size : 30px;
            font-weight: bold;
            margin-bottom: 30px;
            color:black; !important;
        }

        /* 셀렉트 포함한 div */
        #selectContainer{
            display: flex;
            width: 250px;
            height: 50px;
        }

        #selectFund{
            font-size:16px;
            padding:10px 70px 10px 10px;
            color:dimgray;
        }

        /* tab 내부의 본문 영역 */
        .bodyContainer{
            display : flex;
            flex-direction: column;
            padding: 30px;
        }

        /* 내역 리스트 항목  */
        .contentsContainer{
            margin-bottom: 10px;
            display:flex;
            align-items: center;
            flex-direction: column;
        }

        /*  검은 버튼  */
        .submitBtn_black {
            background: #191919;
            padding: 7px 23px;
            transition: all .4s;
            color: #fff;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 7px;
        }

        .submitBtn_black:hover {
            background: var(--maincolor);
            border: 1px solid var(--maincolor);
        }

        /* 흰 버튼 */
        .submitBtn_white {
            background: #fff;
            padding: 7px 23px;
            transition: all .4s;
            color: #191919;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 10px;
        }

        .submitBtn_white:hover {
            background: var(--maincolor);
            border: 1px solid var(--maincolor);
            color: #fff;
        }

    </style>

</head>
<body>
<!--사용자별 html-->
<th:block layout:fragment="customContents">
    <!-- 유저 프로필 영역   -->
    <div id="profileContainer">
        <!-- 프로필 이미지 -->
        <div class="img-box">
            <img style="width: 90px; height: 90px; border-radius: 50%;" src="https://search.pstatic.net/sunny/?src=https%3A%2F%2Fi.namu.wiki%2Fi%2FDgDM89CJAmUv4KwG-JNwQOWklX6MPKPXip-KQL66igwbwegZ3y6pRdFZ3Ne28Qn7JaxXZzewB3_iHM_uqJ7s8A.webp&type=sc960_832"
                 id="profile_img" alt="">
        </div>

        <!-- 사용자 이름 + 설정 아이콘 -->
        <div id="name-box">
            <!-- 사용자 이름 -->
            <h2>최미미</h2>
            <!-- 설정 아이콘 클릭시 프로필 설정 페이지로 이동  -->
            <a th:href="@{/user/mypage/profile}"><i class="bi bi-gear" id="showProfileIcon" ></i></a>

        </div>
    </div>
    <!-- tab 메뉴 영역  -->
    <!-- data-toggle="tab" 속성을 Bootstrap의 <a> 태그에 추가하면 해당 링크가 tab 컴포넌트를 제어하도록 설정 -->
    <div id="tabWrapper">
        <div id="tabContainer">
            <ul class="nav nav-tabs nav-justified justify-content-center" id="tabList">
                <li class="nav-item"><a href="#menu1" class="nav-link active" data-toggle="tab">후원한 펀딩</a></li>
                <li class="nav-item"><a href="#menu2" class="nav-link " data-toggle="tab">찜한 펀딩</a></li>
                <li class="nav-item"><a href="#menu3" class="nav-link" data-toggle="tab">팔로워</a></li>
                <li class="nav-item"><a href="#menu4" class="nav-link" data-toggle="tab">팔로잉</a></li>
                <li class="nav-item"><a href="#menu5" class="nav-link" data-toggle="tab">적립금/쿠폰/</a></li>
                <li class="nav-item"><a href="#menu6" class="nav-link" data-toggle="tab">내 정보</a></li>
            </ul>

    <!-- tab 내에 표시될 영역  -->
            <div class="tab-content" >
                <div id="menu1" class="container tab-pane active">
                    <!--  tab 내부 타이틀 영역 -->
                    <div class="titleContainer" >
                        <div class="tabTitle">펀딩 내역</div>

                    <div id="selectContainer">
                        <select name="" class="form-select form-select-lg" id="selectFund">
                            <option class="fundCategory" value="viewAll" selected>전체</option>
                            <option class="fundCategory" value="reward">리워드</option>
                            <option class="fundCategory" value="investment">투자</option>
                            <option class="fundCategory" value="donation">기부</option>
                        </select>
                    </div>
                    </div >
                    <!--  리워드 펀딩 선택시 나타날 페이지  -->
                    <!--  tab 내부 본문 영역 -->
                    <div class="bodyContainer" id="rewardTab">

                        <!--  내역 리스트 항목 -->
                        <div class="contentsContainer">
                            <div class="card" style="width: 48rem;">
                                <!-- 내역 상태 ( 주문 상태 상세 )  -->
                                <h5 class="card-header">결제 완료 </h5>
                                <!-- 내역 내용 -->
                                <div class="card-body" style="display: flex">
                                    <!-- 이미지  -->
                                    <div>
                                        <img class="card-img-top" style="width: 160px; height: 160px;" src="https://contents.lotteon.com/itemimage/_v150640/LO/19/98/02/00/32/_1/99/80/20/03/3/LO1998020032_1998020033_1.jpg/dims/optimize/dims/resizemc/400x400"
                                             alt="...">
                                    </div>

                                    <!-- 설명 / 버튼 -->
                                    <form action="" method="post" style="display: flex; flex-direction: column; justify-content:space-between; padding-left:30px; width: 1200px;">
                                            <p class="card-text">2023.10.30 결제</p>
                                            <h5 class="card-title">[9만원대 | 가성비 끝판왕] 르젠 모래시계 가열식 가습기</h5>
                                            <p class="card-text">르젠 모래시계 가열식 가습기(화이트)</p>
                                            <div style="display: flex; justify-content: end; margin:0;">
                                                <a href="#" class="submitBtn_white"
                                                   data-toggle="modal"
                                                   data-target="#exampleModal3"
                                                   data-what="hello"
                                                   >주문취소</a>
                                                <a href="#" class="submitBtn_black" >결제상세</a>
                                            </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- 모달팝업 -->
                        <div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">

                                    <!-- 팝업창 내용 -->
                                    <div class="modal-body detail">
                                        <p>정말로 취소하시겠습니까?</p>
                                    </div>

                                    <div class="modal-footer" >
                                        <button type="button" class="submitBtn_white" data-dismiss="modal">취소</button>
                                        <button type="button" class="submitBtn_black">확인</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!--  투자 펀딩 선택시 나타날 페이지  -->
                    <!--  내역 리스트 항목 -->
                    <!--  tab 내부 본문 영역 -->
                    <div class="bodyContainer" id="investmentTab">

                        <!--  내역 리스트 항목 -->
                        <div class="contentsContainer">
                            <div class="card" style="width: 48rem;">
                                <!-- 내역 상태 ( 주문 상태 상세 )  -->
                                <h5 class="card-header">결제 완료 </h5>
                                <!-- 내역 내용 -->
                                <div class="card-body" style="display: flex">
                                    <!-- 이미지  -->
                                    <div>
                                        <img class="card-img-top" style="width: 160px; height: 160px;" src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyMjA2MjdfMjY5%2FMDAxNjU2MzIyNDkxNTAw.MyuSHCloNL5z2mgJhRk1Z4u__TYNKf-OqxW-jKEtDIQg.6WbKNtW5efJE2zbANoWbmq0B-raZae4wKy1_TsyS5WQg.JPEG.bammango0106%2Ffile1_16371338044gozwo2u45.jpg&type=a340"
                                             alt="...">
                                    </div>

                                    <!-- 설명 / 버튼 -->
                                    <form action="" method="post" style="display: flex; flex-direction: column; justify-content:space-between; padding-left:30px; width: 1200px;">
                                        <p class="card-text">2023.10.20 결제</p>
                                        <h5 class="card-title">고흐 전시회</h5>
                                        <p class="card-text">투자 옵션 1</p>
                                        <div style="display: flex; justify-content: end; margin:0;">
                                            <a href="#" class="submitBtn_white"
                                               data-toggle="modal"
                                               data-target="#exampleModal2"
                                               data-what="hello"
                                            >주문취소</a>
                                            <a href="" class="submitBtn_black" >결제상세</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- 모달팝업 -->
                        <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">

                                    <!-- 팝업창 내용 -->
                                    <div class="modal-body detail">
                                        <p>정말로 취소하시겠습니까?</p>
                                    </div>

                                    <div class="modal-footer" >

                                        <button type="button" class="submitBtn_white" data-dismiss="modal">취소</button>
                                        <button type="button" class="submitBtn_black">확인</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--  기부 펀딩 선택시 나타날 페이지  -->
                    <!--  tab 내부 본문 영역 -->
                    <div class="bodyContainer" id="donationTab">

                        <!--  내역 리스트 항목 -->
                        <div class="contentsContainer">
                            <div class="card" style="width: 48rem;">
                                <!-- 내역 상태 ( 주문 상태 상세 )  -->
                                <h5 class="card-header">결제 완료 </h5>
                                <!-- 내역 내용 -->
                                <div class="card-body" style="display: flex">
                                    <!-- 이미지  -->
                                    <div>
                                        <img class="card-img-top" style="width: 160px; height: 160px;" src="https://contents.lotteon.com/itemimage/_v150640/LO/19/98/02/00/32/_1/99/80/20/03/3/LO1998020032_1998020033_1.jpg/dims/optimize/dims/resizemc/400x400"
                                             alt="...">
                                    </div>

                                    <!-- 설명 / 버튼 -->
                                    <form action="" method="post" style="display: flex; flex-direction: column; justify-content:space-between; padding-left:30px; width: 1200px;">
                                        <p class="card-text">2023.10.30 결제</p>
                                        <h5 class="card-title">길고양이들을 도와주세요</h5>
                                        <p class="card-text">사료 1포대 </p>
                                        <div style="display: flex; justify-content: end; margin:0;">
                                            <a href="#" class="submitBtn_white"
                                               data-toggle="modal"
                                               data-target="#exampleModal"
                                               data-what="hello"
                                            >주문취소</a>
                                            <a href="#" class="submitBtn_black" >결제상세</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- 모달팝업 -->
                        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">

                                    <!-- 팝업창 내용 -->
                                    <div class="modal-body detail">
                                        <p>정말로 취소하시겠습니까?</p>
                                    </div>

                                    <div class="modal-footer" >
                                        <button type="button" class="submitBtn_white" data-dismiss="modal">취소</button>
                                        <button type="button" class="submitBtn_black">확인</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>






                </div>

                <div id="menu2" class="container tab-pane ">
                    <div class="titleContainer">
                        <div class="tabTitle">찜한 펀딩</div>
                    </div>
                </div>

                <div id="menu3" class="container tab-pane">
                    <div class="titleContainer">
                        <div class="tabTitle">팔로워</div>
                    </div>
                </div>
                <div id="menu4" class="container tab-pane">
                    <div class="titleContainer">
                        <div class="tabTitle">팔로잉</div>
                    </div>
                </div>
                <div id="menu5" class="container tab-pane">
                    <div class="titleContainer">
                        <div class="tabTitle">적립급/쿠폰</div>
                    </div>
                </div>
                <div id="menu6" class="container tab-pane">
                    <div class="titleContainer">
                        <div class="tabTitle">내 정보</div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</th:block>

<!-- 사용자별 스크립트 파일 -->
<th:block layout:fragment="customJsFile">

</th:block>

<!-- 사용자별 스크립트 작성 -->
<th:block layout:fragment="customJsCode">
    <script>
      /* 선택한 select 항목별로 내용 나타나게  */
      /* 일단 모든 항목을 숨기고 나타나게 해야 할 듯 */
      $rewardTab = document.getElementById('rewardTab');
      $investmentTab = document.getElementById('investmentTab');
      $selectFund = document.getElementById('selectFund');
      $donationTab = document.getElementById('donationTab');
      $bodyContainer = document.querySelectorAll('.bodyContainer');

      $selectFund.addEventListener('change', function(){
          $bodyContainer.forEach((element) => {
              element.style.display = 'none';
          })

          let selectedValue = $selectFund.value;
          switch (selectedValue) {
              case "reward"     : $rewardTab.style.display = 'block';
                        break;
              case "investment" : $investmentTab.style.display = 'block';
                        break;
              case "donation"   : $donationTab.style.display = 'block';
                        break;
              default           :
                  for(let i=0; i<$bodyContainer.length; i++){
                      $bodyContainer[i].style.display = 'block';
                  }
          }

      })


    </script>
</th:block>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>
</html>